<?xml version="1.0" encoding="UTF-8"?>

<!-- Describe the P3 INDS system using Bill Finger's INDS Execution Manager schema. -->

<!--startup xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://whf/schema/inds_startup.xsd"-->
<startup xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="file:///C:/user/DryScan/nasa-dryden-dt/XML_startup_P3_example/inds_startup.xsd">
	
	<!-- Tomcat -->
	<!-- JPW 01/14/09: Don't start Tomcat under the Execution Manager -->
	<!--tomcat logFile="tommy.log">
		<input type="tcp" port="localhost:80" />
	</tomcat-->
	
	<!-- Server -->
	<del initialDirectory="Server" file="rbnb.log"/>
	<dataTurbine jvmMaxHeap="1024M" initialDirectory="Server" logFile="rbnb.log" name="INDS" address=":3333" tag="P3B DataTurbine"/>
	<sleep duration_ms="15000"/>
	
	<!-- Jobs/KMLTrack -->
	<del initialDirectory="Jobs/KMLTrack" file="*.log"/>
	<trackKML initialDirectory="Jobs/KMLTrack" logFile="TrackKMLDC8.log" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigDC8.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackKML_DC8" />
	</trackKML>
	<trackKML initialDirectory="Jobs/KMLTrack" logFile="TrackKMLP3B.log" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigP3B.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackKML_P3B" />
	</trackKML>
	<trackKML initialDirectory="Jobs/KMLTrack" logFile="TrackKMLB200.log" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigB200.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackKML_B200" />
	</trackKML>
	<trackKML initialDirectory="Jobs/KMLTrack" logFile="TrackKMLNOAAP3.log" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigNOAAP3.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackKML_NOAAP3" />
	</trackKML>
	<trackKML initialDirectory="Jobs/KMLTrack" logFile="TrackKMLCV580.log" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigCV580.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackKML_CV580" />
	</trackKML>
	<trackKML initialDirectory="Jobs/KMLTrack" logFile="TrackKMLTwinOtter.log" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigTwinOtter.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackKML_TwinOtter" />
	</trackKML>
	<trackData initialDirectory="Jobs/KMLTrack" logFile="TrackDataDC8.log" noGUI="true" configFile="TrackDataConfigDC8.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackData_DC8" />
	</trackData>
	<trackData initialDirectory="Jobs/KMLTrack" logFile="TrackDataP3B.log" noGUI="true" configFile="TrackDataConfigP3B.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackData_P3B" />
	</trackData>
	<trackData initialDirectory="Jobs/KMLTrack" logFile="TrackDataB200.log" noGUI="true" configFile="TrackDataConfigB200.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackData_B200" />
	</trackData>
	<trackData initialDirectory="Jobs/KMLTrack" logFile="TrackDataNOAAP3.log" noGUI="true" configFile="TrackDataConfigNOAAP3.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackData_NOAAP3" />
	</trackData>
	<trackData initialDirectory="Jobs/KMLTrack" logFile="TrackDataCV580.log" noGUI="true" configFile="TrackDataConfigCV580.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackData_CV580" />
	</trackData>
	<trackData initialDirectory="Jobs/KMLTrack" logFile="TrackDataTwinOtter.log" noGUI="true" configFile="TrackDataConfigTwinOtter.txt">
	    <plugin type="rbnb" port="localhost:3333" name="TrackData_TwinOtter" />
	</trackData>
	<sleep duration_ms="2000"/>
	
	<!-- Jobs/TimeDrive -->
	<del initialDirectory="Jobs/TimeDrive" file="*.log"/>
	<timeDrive initialDirectory="Jobs/TimeDrive" logFile="timedrive.log" multiUserMode="ip">
	    <input type="tcp" port="4000"/>
	    <output type="tcp" port="localhost:80"/>
	</timeDrive>
	<sleep duration_ms="2000"/>
	
	<!-- Jobs/PlugIns -->
	<del initialDirectory="Jobs/PlugIns" file="*.log"/>
	<png initialDirectory="Jobs/PlugIns" logFile="png.log" width="320" height="200">
	    <plugin type="rbnb" port="localhost:3333" name="PNGPlugIn" />
	</png>
	<sleep duration_ms="1000"/>
	<toString initialDirectory="Jobs/PlugIns" logFile="toString.log">
	    <plugin type="rbnb" port="localhost:3333" name="ToString" />
	</toString>
	<sleep duration_ms="1000"/>
	<thumbNail initialDirectory="Jobs/PlugIns" logFile="thumbNail.log" scale="0.5" quality="0.9" maxImages="10">
	    <plugin type="rbnb" port="localhost:3333" name="ThumbNail" />
	</thumbNail>
	<sleep duration_ms="5000"/>
	
	<!-- DC8 project -->
	<del initialDirectory="Projects/DC8" file="*.log"/>
	<xmlDemux initialDirectory="Projects/DC8" logFile="IWG1Demux.log" silentMode="true" chanNameFromID="true" xmlFile="IWG1_GTR_OUT.XML">
	    <input type="rbnb" port="localhost:3333" channel="DC8-5000-cap/UDP"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="200" archiveFrames="1000000" overwriteArchive="true" name="DC8-817-TC4_IWG1"/>
	</xmlDemux>
	<sleep duration_ms="1000"/>
	
	<!-- P3B project -->
	<del initialDirectory="Projects/P3B" file="*.log"/>
	<xmlDemux initialDirectory="Projects/P3B" logFile="IWG1Demux.log" silentMode="true" chanNameFromID="true" xmlFile="IWG1_INDS_OUT.XML">
	    <input type="rbnb" port="localhost:3333" channel="P3B-5700-cap/UDP"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="200" archiveFrames="1000000" overwriteArchive="true" name="GTR_P3orion_IWG1"/>
	</xmlDemux>
	<sleep duration_ms="1000"/>
	<xmlDemux initialDirectory="Projects/P3B" logFile="HskpngDemux.log" silentMode="true" chanNameFromID="true" xmlFile="SCAN_GTR_OUT.XML">
	    <input type="rbnb" port="localhost:3333" channel="P3B-5750-cap/UDP"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="200" archiveFrames="1000000" overwriteArchive="true" name="GTR_MONITOR_TM_STREAM_P3B_ARCTAS"/>
	</xmlDemux>
	<sleep duration_ms="2000"/>
	
	<!-- B200 project -->
	<del initialDirectory="Projects/B200" file="*.log"/>
	<csvDemux initialDirectory="Projects/B200" logFile="CSVDemux.log" dateFormat="yyyyMMdd'T'HHmmss" silentMode="true" checkEmbeddedTimestamp="true" xmlFile="B200.xml">
	    <input type="rbnb" port="localhost:3333" channel="B200/B200_ASR_reduced.txt"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="200" archiveFrames="1000000" overwriteArchive="true" name="HASR"/>
	</csvDemux>
	<sleep duration_ms="1000"/>
	
	<!-- NOAA P3 project -->
	<del initialDirectory="Projects/NOAA_P3" file="*.log"/>
	<csvDemux initialDirectory="Projects/NOAA_P3" logFile="CSVDemux.log" dateFormat="yyyyMMdd'T'HHmmss" silentMode="true" checkEmbeddedTimestamp="true" xmlFile="NOAA_P3.xml">
	    <input type="rbnb" port="localhost:3333" channel="NOAA_P3/WP3D.txt"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="200" archiveFrames="1000000" overwriteArchive="true" name="WP3D"/>
	</csvDemux>
	<sleep duration_ms="1000"/>
	
	<!-- CV580 project -->
	<del initialDirectory="Projects/CV580" file="*.log"/>
	<csvDemux initialDirectory="Projects/CV580" logFile="CSVDemux.log" dateFormat="yyyyMMdd'T'HHmmss" silentMode="true" checkEmbeddedTimestamp="true" xmlFile="CV580.xml">
	    <input type="rbnb" port="localhost:3333" channel="CV580/_CSV"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="200" archiveFrames="1000000" overwriteArchive="true" name="CV580_IWG1"/>
	</csvDemux>
	<sleep duration_ms="1000"/>
	
	<!-- Twin Otter project -->
	<del initialDirectory="Projects/TwinOtter" file="*.log"/>
	<csvDemux initialDirectory="Projects/TwinOtter" logFile="TwinOtterDemux.log" dateFormat="yyyy-MM-dd'T'HH:mm:ss'Z'" silentMode="true" checkEmbeddedTimestamp="true" xmlFile="TwinOtter.xml">
	    <input type="rbnb" port="localhost:3333" channel="P3B-5800-cap/UDP"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="200" archiveFrames="1000000" overwriteArchive="true" name="N255SA"/>
	</csvDemux>
	<deadReckoning initialDirectory="Projects/TwinOtter" logFile="DeadReckoning.log" maxLatency_sec="1800"/>
	
	<sleep duration_ms="5000"/>
	
	<!-- Capture/HttpMonitor -->
	<del initialDirectory="Capture/HttpMonitor" file="*.log"/>
	<httpMonitor initialDirectory="Capture/HttpMonitor" logFile="MSFC.log" configFile="MSFC.xml">
	    <output type="rbnb" name="rtmm"/>
	</httpMonitor>
	<sleep duration_ms="1000"/>
	<httpMonitor initialDirectory="Capture/HttpMonitor" logFile="B200.log" configFile="B200.xml">
	    <output type="rbnb" name="B200"/>
	</httpMonitor>
	<sleep duration_ms="1000"/>
	<httpMonitor initialDirectory="Capture/HttpMonitor" logFile="DC8.log" configFile="DC8.xml">
	    <output type="rbnb" name="DC8-5000-cap"/>
	</httpMonitor>
	<sleep duration_ms="1000"/>
	<httpMonitor initialDirectory="Capture/HttpMonitor" logFile="DIAL.log" configFile="DIAL.xml">
	    <output type="rbnb" name="DC8-5001-DIAL-cap"/>
	</httpMonitor>
	<sleep duration_ms="1000"/>
	<httpMonitor initialDirectory="Capture/HttpMonitor" logFile="CV580.log" configFile="CV580.xml">
	    <output type="rbnb" name="CV580"/>
	</httpMonitor>
	<sleep duration_ms="1000"/>
	<httpMonitor initialDirectory="Capture/HttpMonitor" logFile="NOAA_P3.log" configFile="NOAA_P3.xml">
	    <output type="rbnb" name="NOAA_P3"/>
	</httpMonitor>
	<sleep duration_ms="1000"/>
	
	<!-- Capture/UDPCapture -->
	<del initialDirectory="Capture/UDPCapture" file="*.log"/>
	<udpCapture initialDirectory="Capture/UDPCapture" logFile="P3B-5700-cap.log">
	    <input type="udp" port="5700"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="10" archiveFrames="8640000" overwriteArchive="true" name="P3B-5700-cap"/>
	</udpCapture>
	<udpCapture initialDirectory="Capture/UDPCapture" logFile="P3B-5750-cap.log">
	    <input type="udp" port="5750"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="10" archiveFrames="8640000" overwriteArchive="true" name="P3B-5750-cap"/>
	</udpCapture>
	<udpCapture initialDirectory="Capture/UDPCapture" logFile="P3B-5800-cap.log">
	    <input type="udp" port="5800"/>
	    <output type="rbnb" port="localhost:3333" cacheFrames="10" archiveFrames="8640000" overwriteArchive="true" name="P3B-5800-cap"/>
	</udpCapture>
	<sleep duration_ms="1000"/>

</startup>
