<?xml version="1.0" encoding="UTF-8"?>

<!-- A first cut at describing the P3 INDS system using Bill Finger's INDS Execution Manager schema.                 -->
<!-- Only the RBNB Server is started in a separate directory; all other processes are started in the base directory. -->

<startup xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://whf/schema/inds_startup.xsd">
	
	<!-- Tomcat -->
	<tomcat logFile="tommy.log" />
	
	<!-- Server -->
	<del initialDirectory="Server" file="rbnb.log"/>
	<dataTurbine jvmMaxHeap="1024M" initialDirectory="Server" logFile="rbnb.log" name="INDS" address=":3333"/>
	<sleep duration_ms="1500"/>
	
	<!-- Delete all the log files -->
	<del file="*.log"/>
	
	<!-- Jobs/KMLTrack -->
	<trackKML logFile="TrackKMLDC8.log" name="TrackKML_DC8" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigDC8.txt"/>
	<trackKML logFile="TrackKMLP3B.log" name="TrackKML_P3B" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigP3B.txt"/>
	<trackKML logFile="TrackKMLB200.log" name="TrackKML_B200" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigB200.txt"/>
	<trackKML logFile="TrackKMLNOAAP3.log" name="TrackKML_NOAAP3" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigNOAAP3.txt"/>
	<trackKML logFile="TrackKMLCV580.log" name="TrackKML_CV580" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigCV580.txt"/>
	<trackKML logFile="TrackKMLTwinOtter.log" name="TrackKML_TwinOtter" consolidateResponse="true" noGUI="true" configFile="TrackKMLConfigTwinOtter.txt"/>
	<trackData logFile="TrackDataDC8.log" name="TrackData_DC8" noGUI="true" configFile="TrackDataConfigDC8.txt"/>
	<trackData logFile="TrackDataP3B.log" name="TrackData_P3B" noGUI="true" configFile="TrackDataConfigP3B.txt"/>
	<trackData logFile="TrackDataB200.log" name="TrackData_B200" noGUI="true" configFile="TrackDataConfigB200.txt"/>
	<trackData logFile="TrackDataNOAAP3.log" name="TrackData_NOAAP3" noGUI="true" configFile="TrackDataConfigNOAAP3.txt"/>
	<trackData logFile="TrackDataCV580.log" name="TrackData_CV580" noGUI="true" configFile="TrackDataConfigCV580.txt"/>
	<trackData logFile="TrackDataTwinOtter.log" name="TrackData_TwinOtter" noGUI="true" configFile="TrackDataConfigTwinOtter.txt"/>
	<sleep duration_ms="200"/>
	
	<!-- Jobs/TimeDrive -->
	<timeDrive logFile="timedrive.log" listenPort="4000" webserverAddress="localhost" multiUserMode="2"/>
	<sleep duration_ms="200"/>
	
	<!-- Jobs/PlugIns -->
	<png name="PNGPlugIn" hostAddress="localhost:3333" width="320" height="200"  />
	<sleep duration_ms="100"/>
	<toString name="ToString"/>
	<sleep duration_ms="100"/>
	<thumbNail name="ThumbNail" scale="0.5" quality="0.9" maxImages="10"/>
	<sleep duration_ms="500"/>
	
	<!-- DC8 project -->
	<xmlDemux logFile="IWG1DemuxDC8.log" inputDT="localhost:3333" outputDT="localhost:3333" silentMode="true" chanNameFromID="true" inputName="DC8-5000-cap/UDP" xmlFile="IWG1_GTR_OUT_DC8.XML" cacheFrames="200" archiveFrames="1000000" createNewArchive="true"/>
	<sleep duration_ms="100"/>
	
	<!-- P3B project -->
	<xmlDemux logFile="IWG1DemuxP3B.log" inputDT="localhost:3333" outputDT="localhost:3333" silentMode="true" chanNameFromID="true" inputName="P3B-5700-cap/UDP" xmlFile="IWG1_INDS_OUT_P3B.XML" cacheFrames="200" archiveFrames="1000000" createNewArchive="true"/>
	<sleep duration_ms="100"/>
	<xmlDemux logFile="HskpngDemuxP3B.log" inputDT="localhost:3333" outputDT="localhost:3333" silentMode="true" chanNameFromID="true" inputName="P3B-5750-cap/UDP" xmlFile="SCAN_GTR_OUT_P3B.XML" cacheFrames="200" archiveFrames="1000000" createNewArchive="true"/>
	<sleep duration_ms="200"/>
	
	<!-- B200 project -->
	<csvDemux logFile="CSVDemuxB200.log" inputDT="localhost:3333" outputDT="localhost:3333" dateFormat="yyyyMMdd\'T\'HHmmss" silentMode="true" checkEmbeddedTimestamp="true" inputName="B200/B200_ASR_reduced.txt" xmlFile="B200.xml" cacheFrames="200" archiveFrames="1000000" createNewArchive="true"/>
	<sleep duration_ms="100"/>
	
	<!-- NOAA P3 project -->
	<csvDemux logFile="CSVDemuxNOAAP3.log" inputDT="localhost:3333" outputDT="localhost:3333" dateFormat="yyyyMMdd\'T\'HHmmss" silentMode="true" checkEmbeddedTimestamp="true" inputName="NOAA_P3/WP3D.txt" xmlFile="NOAA_P3.xml" cacheFrames="200" archiveFrames="1000000" createNewArchive="true"/>
	<sleep duration_ms="100"/>
	
	<!-- CV580 project -->
	<csvDemux logFile="CSVDemuxCV580.log" inputDT="localhost:3333" outputDT="localhost:3333" dateFormat="yyyyMMdd\'T\'HHmmss" silentMode="true" checkEmbeddedTimestamp="true" inputName="CV580/_CSV" xmlFile="CV580.xml" cacheFrames="200" archiveFrames="1000000" createNewArchive="true" outputSource="CV580_IWG1"/>
	<sleep duration_ms="100"/>
	
	<!-- Twin Otter project -->
	<csvDemux logFile="TwinOtterDemux.log" inputDT="localhost:3333" outputDT="localhost:3333" dateFormat="yyyy-MM-dd\'T\'HH:mm:ss\'Z\'" silentMode="true" checkEmbeddedTimestamp="true" inputName="P3B-5800-cap/UDP" xmlFile="TwinOtter.xml" cacheFrames="200" archiveFrames="1000000" createNewArchive="true"/>
	<deadReckoning logFile="DeadReckoning.log" maxLatency_sec="1800"/>
	
	<sleep duration_ms="500"/>
	
	<!-- Capture, HttpMonitor -->
	<httpMonitor logFile="HttpMon_MSFC.log" configFile="HttpMon_MSFC.xml"/>
	<sleep duration_ms="100"/>
	<httpMonitor logFile="HttpMon_B200.log" configFile="HttpMon_B200.xml"/>
	<sleep duration_ms="100"/>
	<httpMonitor logFile="HttpMon_DC8.log" configFile="HttpMon_DC8.xml"/>
	<sleep duration_ms="100"/>
	<httpMonitor logFile="HttpMon_DIAL.log" configFile="HttpMon_DIAL.xml"/>
	<sleep duration_ms="100"/>
	<httpMonitor logFile="HttpMon_CV580.log" configFile="HttpMon_CV580.xml"/>
	<sleep duration_ms="100"/>
	<httpMonitor logFile="HttpMon_NOAA_P3.log" configFile="HttpMon_NOAA_P3.xml"/>
	<sleep duration_ms="100"/>
	
	<!-- Capture, UDPcapture -->
	<udpCapture logFile="P3B-5700-cap.log" listenPort="5700" cacheFrames="10" archiveFrames="8640000" createNewArchive="true" name="P3B-5700-cap"/>
	<udpCapture logFile="P3B-5750-cap.log" listenPort="5750" cacheFrames="10" archiveFrames="8640000" createNewArchive="true" name="P3B-5750-cap"/>
	<udpCapture logFile="P3B-5800-cap.log" listenPort="5800" cacheFrames="10" archiveFrames="8640000" createNewArchive="true" name="P3B-5800-cap"/>
	<sleep duration_ms="100"/>

</startup>






